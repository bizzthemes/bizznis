<?php
/*
	WARNING! DO NOT EDIT THIS FILE!
	This file is part of the core Bizznis parent theme. 
	Please do all modifications in the form of a child theme.
*/

/**
 * Add widget support for homepage. If no widgets are active, display the default loop.
 *
 * @since 1.0.0
 */
add_action( 'wp_head', 'bizznis_home_register_widget_area' );
function bizznis_home_register_widget_area() {
	if ( is_active_sidebar( 'home' ) ) {
		# Add home-widgets body class
		add_filter( 'body_class', 'bizznis_home_widgets_body_class' );
		function bizznis_home_widgets_body_class( $classes ) {
   			$classes[] = 'home-widgets';
  			return $classes;
		}
		# Remove the default Bizznis loop
		remove_action( 'bizznis_loop', 'bizznis_do_loop' );
		# Add home widgets
		add_action( 'bizznis_loop', 'bizznis_echo_home_widgets' );
	}
}

/**
 * Return home widgets
 *
 * @since 1.0.0
 */
function bizznis_echo_home_widgets() {
	bizznis_widget_area( 'home', array(
		'before'	=> '<div class="home-aside-area widget-area">',
		'after'		=> '</div>',
	) );
}

bizznis();
